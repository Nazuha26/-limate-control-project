# Climate control project

## Опис проєкту

Цей скетч призначений для моніторингу параметрів мікроклімату у приміщені за допомогою ESP8266, платформи Blynk, та датчика DHT21. Система збирає та передає дані про температуру, вологість, а також швидкість і напрямок вітру до додатку Blynk. Користувач може керувати інтервалом вимірювань і перезавантажувати систему через команди в терміналі Blynk.

## Використані бібліотеки
- **ESP8266** — для підключення до Wi-Fi.
- **Blynk** — для віддаленого керування і моніторингу.
- **DHT** — для роботи з датчиком температури та вологості DHT21.

## Основні функції

### 1. Налаштування з'єднання
- **Wi-Fi та Blynk** — налаштування з'єднання з Wi-Fi та Blynk-сервером з використанням токена пристрою.
- **Віртуальні піни** — для відправки даних до Blynk.

### 2. Ініціалізація у `setup()`
- Підключення до Wi-Fi та Blynk-серверу.
- Ініціалізація DHT21 і налаштування таймерів для регулярних оновлень.
- Виведення доступних команд у термінал Blynk.

### 3. Основний цикл `loop()`
- Постійний виклик `Blynk.run()` та `timer.run()` для підтримки актуальності даних.

### 4. Функція `resetAll()`
- Скидання всіх змінних, видалення активних таймерів і підготовка системи до роботи.

### 5. Оновлення даних через `updateBlynkData()`
- Щосекундне оновлення даних у Blynk та виведення статусу роботи.

### 6. Функції `readSensorDataWrapper()` та `updateMeasurementsWrapper()`
- Створення таймерів для регулярного зчитування та оновлення вимірювань.

### 7. Функція `readSensorData()`
- Зчитування даних з датчика DHT21 та відправка до Blynk.

### 8. Функція `updateMeasurements()`
- Розрахунок та відправка параметрів вітру (швидкість, напрямок) до Blynk.

### 9. Функція `printExcelData()`
- Виведення даних у Excel за допомогою програми PLX-DAQ.

## Додаткові події

- **Кнопка запуску/зупинки (BLYNK_WRITE(BUTTON_PIN))** — запуск та зупинка програми.
- **Команди терміналу (BLYNK_WRITE(TERMINAL_PIN))**:
  - `set_interval <milliseconds>` — змінює інтервал між вимірюваннями.
  - `reset_all` — скидає значення та зупиняє програму.

### Обчислення параметрів вітру в `calculateWindParameters()`
- Обчислення швидкості та напрямку вітру на основі даних від ультразвукових датчиків. Дані переводяться у градуси, від 0 до 360.

## Інструкція для встановлення
1. Встановіть бібліотеки для ESP8266, Blynk і DHT.
2. Налаштуйте Wi-Fi з'єднання і токен Blynk.
3. Завантажте скетч на ESP8266 і підключіться до Blynk для моніторингу даних.

## Ліцензія
Вільне використання для освітніх та некомерційних цілей.
